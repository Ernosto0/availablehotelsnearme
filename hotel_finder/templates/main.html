<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Map</title>

    <!-- Load static tag -->
    {% load static %}

    <script src="{% static 'script.js' %}"></script> <!-- Your script.js file -->
</head>
<body>
    <div id="map" style="height: 500px; width: 100%;"></div>

    <!-- Embed the hotels data using Django's json_script filter -->
    <script id="hotels-data" type="application/json">
        {{ hotels|json_script:"hotels" }}
    </script>

    <script>
        // Parse the hotels data from the embedded JSON script
        const hotels = JSON.parse(document.getElementById('hotels-data').textContent);

        console,log("Hotels data from template:")
        console.log("Hotels data from template:", hotels);

        // Initialize the map once the DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initMap(hotels);
        });
    </script>
</body>
</html>
